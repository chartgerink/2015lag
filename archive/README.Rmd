# Publication lag in academia: A case study of the Public Library of Science (PLOS)

This repository is linked to [this](https://www.authorea.com/users/2013/articles/36067/_show_article) Authorea manuscript. This README file contains the main analyses including `R` code, and is included in a separate file in the `archive` folder called `data_analysis.r`. This README document provides the framework for the manuscript.

Note that the dataset includes *all* published papers in PLOS. Considering this as a case study of PLOS research articles, the entire population is included in the analyses. This makes inferences and p-value hypothesis testing unnecessary.


```{r}
setwd("D:/Dropbox/projects/2015lag/archive")

# Dependencies
library(stringr)
library(ggplot2)
library(knitr)

# Read in data
dat <- read.csv(file = '20150514collected_data.csv')

#################
# Data cleaning #
#################

# Assimilate journal naming
# See discrepancies
table(dat$data.journal)
# Most due to using PLoS and PLOS

# Solve this by making all journal names lowercase
dat$data.journal <- tolower(dat$data.journal)
table(dat$data.journal)

# plos medicin = typo
dat$data.journal[dat$data.journal == "plos medicin"] <- "plos medicine"

# remove the journals with "none"
dat <- dat[!dat$data.journal == "none", ]
table(dat$data.journal)

# Making the dates readable
dat$submitted <- as.Date(substring(dat$data.received_date,
                                   first = 0,
                                   last = 10))
dat$accepted <- as.Date(substring(dat$data.accepted_date,
                                  first = 0,
                                  last = 10))
dat$published <- as.Date(substring(dat$data.publication_date,
                                   first = 0,
                                   last = 10))

# Listwise deletion
# Nr of rows deleted
dim(dat)[1] - sum(!is.na(dat$submitted) &
                    !is.na(dat$accepted) &
                    !is.na(dat$published))

dat <- dat[!is.na(dat$submitted) &
             !is.na(dat$accepted) &
             !is.na(dat$published), ]
```

The data was cleaned in several steps, but the data were also inspected for some illogical dates, where the paper was published before it was accepted (i.e., `{r} sum(dat$published < dat$accepted)` cases) or accepted before submitted (i.e., `{r} sum(dat$accepted < dat$submitted` cases). Below I extend on this and give the DOIs for those papers

```{r}
# Checking for illogical dates
# Published before accepted
as.matrix(dat$data.id[dat$published < dat$accepted])
dat <- dat[!dat$published < dat$accepted, ]

# Accepted before submitted
as.matrix(dat$data.id[dat$accepted < dat$submitted])
dat <- dat[!dat$accepted < dat$submitted, ]

#################
```



```{r}
# Calculating the days between submitted, accepted, and published
calc_days <- Vectorize(function(a, b) 
  length(seq(a, b, "days"))) 

# submitted_accepted <- calc_days(dat$submitted, dat$accepted)
# save(submitted_accepted, file = "submitted_accepted")
# 
# accepted_published <- calc_days(dat$accepted, dat$ published)
# save(accepted_published, file = "accepted_published")

# Load the objects created in the commented out code above
# Decreases runtime
load("submitted_accepted")
load("accepted_published")

```
