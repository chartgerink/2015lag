install.packages('devtools')
update.packages(checkBuilt = T, ask = F, type = "binary")
update.chjh
update.chjh
update.chjh()
plot(dbeta(shape1 = 1, shape2 = 1))
?dbeta
dbeta(seq(0, 1, .001), shape1 = 1, shape2 = 1)
plot(dbeta(seq(0, 1, .001), shape1 = 1, shape2 = 1))
for(beta in seq(.99, .9, -.01))
lines(dbeta(seq(0, 1, .001), shape1 = 1, shape2 = beta))
plot(dbeta(seq(0, 1, .001), shape1 = 1, shape2 = 1))
for(beta in seq(.99, .9, -.01))
lines(x = dbeta(seq(0, 1, .001), shape1 = 1, shape2 = beta))
plot(x = dbeta(seq(0, 1, .001), shape1 = 1, shape2 = 1))
for(beta in seq(.99, .9, -.01))
lines(x = dbeta(seq(0, 1, .001), shape1 = 1, shape2 = beta))
beta
dbeta(seq(0, 1, .001), shape1 = 1, shape2 = beta)
rbeta(n = 10, shape1 = 1, shape2 = .9)
rbeta(n = 10, shape1 = 1, shape2 = .9)
rbeta(n = 10, shape1 = 1, shape2 = .9)
rbeta(n = 10, shape1 = 1, shape2 = .9)
dbeta(seq(0, 1, .001), shape1 = 1, shape2 = beta)
density(dbeta(seq(0, 1, .001), shape1 = 1, shape2 = beta))
density(dbeta(seq(0, 1, .001), shape1 = 1, shape2 = beta))?dbeta
?dbeta
plot(x = c(.2, .5, .8), y = c(.09, .34, .69), type = 'o')
lines(x = c(.2, .5, .8), y = c(.14, .60, .94), type = 'o', pch =3)
lines(x = c(.2, .5, .8), y = c(.24, .88, .999), type = 'o', pch = 2)
plot(x = c(.2, .5, .8), y = c(.09, .34, .69), type = 'o', ylim = c(0,1), xlim = c(0,1))
lines(x = c(.2, .5, .8), y = c(.14, .60, .94), type = 'o', pch =3)
lines(x = c(.2, .5, .8), y = c(.24, .88, .999), type = 'o', pch = 2)
.2*200
setwd("D:/Dropbox/projects/2015lag")
# Dependencies
library(stringr)
library(ggplot2)
# Read in data
dat <- read.csv(file = '20150514collected_data.csv')
#################
# Data cleaning #
#################
# Assimilate journal naming
# See discrepancies
table(dat$data.journal)
# Most due to using PLoS and PLOS
# Solve this by making all journal names lowercase
dat$data.journal <- tolower(dat$data.journal)
table(dat$data.journal)
# plos medicin = typo
dat$data.journal[dat$data.journal == "plos medicin"] <- "plos medicine"
# remove the journals with "none"
dat <- dat[!dat$data.journal == "none", ]
table(dat$data.journal)
# Making the dates readable
dat$submitted <- as.Date(substring(dat$data.received_date,
first = 0,
last = 10))
dat$accepted <- as.Date(substring(dat$data.accepted_date,
first = 0,
last = 10))
dat$published <- as.Date(substring(dat$data.publication_date,
first = 0,
last = 10))
# Listwise deletion
# Nr of rows deleted
dim(dat)[1] - sum(!is.na(dat$submitted) &
!is.na(dat$accepted) &
!is.na(dat$published))
dat <- dat[!is.na(dat$submitted) &
!is.na(dat$accepted) &
!is.na(dat$published), ]
# Checking for illogical dates
# Published before accepted
sum(dat$published < dat$accepted)
dat <- dat[!dat$published < dat$accepted, ]
# Accepted before submitted
sum(dat$accepted < dat$submitted)
dat <- dat[!dat$accepted < dat$submitted, ]
#################
# Calculating the days between submitted, accepted, and published
calc_days <- Vectorize(function(a, b)
seq(a, b, "days") - 2)
# Minus 2 two subtract submission day, accept day, and publication day
# submitted_accepted <- calc_days(dat$submitted, dat$accepted)
# save(submitted_accepted, file = "submitted_accepted")
#
# accepted_published <- calc_days(dat$accepted, dat$ published)
# save(accepted_published, file = "accepted_published")
# Load the objects created in the commented out code above
# Decreases runtime
load("submitted_accepted")
load("accepted_published")
hist(submitted_accepted)
class(submitted_accepted)
head(submitted_accepted)
calc_days <- Vectorize(function(a, b)
lenght(seq(a, b, "days")) - 2)
submitted_accepted <- calc_days(dat$submitted, dat$accepted)
save(submitted_accepted, file = "submitted_accepted")
accepted_published <- calc_days(dat$accepted, dat$ published)
save(accepted_published, file = "accepted_published")
calc_days <- Vectorize(function(a, b)
length(seq(a, b, "days")) - 2)
submitted_accepted <- calc_days(dat$submitted, dat$accepted)
save(submitted_accepted, file = "submitted_accepted")
accepted_published <- calc_days(dat$accepted, dat$ published)
save(accepted_published, file = "accepted_published")
load("submitted_accepted")
load("accepted_published")
hist(submitted_accepted)
summary(submitted_accepted)
calc_days <- Vectorize(function(a, b)
length(seq(a, b, "days")))
submitted_accepted <- calc_days(dat$submitted, dat$accepted)
save(submitted_accepted, file = "submitted_accepted")
accepted_published <- calc_days(dat$accepted, dat$ published)
save(accepted_published, file = "accepted_published")
qplot(submitted_accepted)
qplot(accepted_published)
qplot(submitted_accepted)
qplot(accepted_published)
summary(submitted_accepted)
summary(accepted_published)
knit(input="README.rmd", output = "README.md")
library(knitr)
knit(input="README.rmd", output = "README.md")
median(submitted_accepted)
median(submitted_accepted)
sd(submitted_accepted)
median(accepted_published)
sd(accepted_published)
mean(submitted_accepted)
sd(submitted_accepted)
var(submitted_accepted)
mean(submitted_accepted)
var(submitted_accepted)
mean(accepted_published)
var(accepted_published)
mean(submitted_accepted)
var(submitted_accepted)
mean(accepted_published)
var(accepted_published)
